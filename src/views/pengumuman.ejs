<body class="bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 min-h-screen text-gray-800 font-[Inter]">
  <div class="max-w-7xl mx-auto px-6 py-12 fade-in">
    <h1 class="text-5xl font-extrabold text-white mb-12 drop-shadow-lg">ğŸ“£ Buat Pengumuman</h1>

    <div class="grid grid-cols-1 xl:grid-cols-2 gap-10 items-start">
      <!-- FORM -->
      <form id="formPengumuman" action="/pengumuman" method="POST" class="bg-white/90 backdrop-blur-lg rounded-3xl shadow-2xl p-10 space-y-8 border border-white/20 transition-all duration-300 hover:shadow-3xl">
        <!-- Judul -->
        <div>
          <label for="judul" class="block text-xl font-semibold text-gray-700 mb-2">ğŸ“ Judul Pengumuman</label>
          <input type="text" id="judul" name="judul" placeholder="Contoh: Perpanjangan Deadline Tugas" class="form-input text-lg transition duration-300" required />
        </div>

        <!-- Isi -->
        <div>
          <label for="isi" class="block text-xl font-semibold text-gray-700 mb-2">ğŸ“„ Isi Pengumuman</label>
          <textarea id="isi" name="isi" rows="6" placeholder="Tulis isi pengumuman secara detail..." class="form-input resize-none text-lg transition duration-300" required></textarea>
        </div>

        <!-- Lab Tujuan -->
        <div>
          <label for="lab_tujuan" class="block text-xl font-semibold text-gray-700 mb-2">ğŸ¢ Lab Tujuan</label>
          <select id="lab_tujuan" name="lab_tujuan" class="form-input text-lg transition duration-300" required>
            <option value="">-- Pilih Lab --</option>
            <option value="lea">LEA - Enterprise Application</option>
            <option value="labgis">LABGIS - GIS & Mapping</option>
            <option value="lbi">LBI - Business Intelligence</option>
            <option value="ldkom">LDKOM - Dasar Komputasi</option>
          </select>
        </div>

        <!-- Tombol -->
        <div class="flex justify-between items-center pt-4">
          <button type="submit" class="bg-indigo-600 hover:bg-indigo-700 active:scale-95 text-white text-lg font-semibold px-6 py-3 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed">
            ğŸ’¾ Simpan Pengumuman
          </button>
          <span id="loader" class="hidden animate-spin border-4 border-indigo-300 border-t-white rounded-full w-8 h-8"></span>
        </div>
      </form>

      <!-- PREVIEW -->
      <div class="bg-white/80 backdrop-blur-lg p-8 rounded-3xl shadow-xl border border-white/20 hover:shadow-2xl transition-all duration-300">
        <h3 class="text-2xl font-bold text-indigo-700 mb-6">ğŸ” Preview Pengumuman</h3>
        <div class="space-y-4 text-lg">
          <p><strong>ğŸ“ Judul:</strong> <span id="previewJudul" class="text-gray-700">-</span></p>
          <p><strong>ğŸ“„ Isi:</strong> <span id="previewIsi" class="text-gray-700">-</span></p>
          <p><strong>ğŸ¢ Lab Tujuan:</strong> <span id="previewLab" class="text-gray-700">-</span></p>
        </div>
      </div>
    </div>
  </div>

  <!-- Toast -->
  <div id="toast" class="fixed bottom-6 right-6 bg-green-600 text-white px-6 py-3 rounded-xl shadow-lg hidden transition-all duration-500 z-50 text-lg opacity-0">
    âœ… Pengumuman berhasil disimpan!
  </div>

  <!-- Tailwind Custom Input -->
  <style>
    .form-input {
      @apply w-full mt-1 px-5 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white;
    }

    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(10px); }
      to   { opacity: 1; transform: translateY(0); }
    }

    .fade-in {
      animation: fadeInUp 0.4s ease-out;
    }
  </style>

  <!-- Script -->
  <script>
    const judul = document.getElementById('judul');
    const isi = document.getElementById('isi');
    const lab = document.getElementById('lab_tujuan');
    const previewJudul = document.getElementById('previewJudul');
    const previewIsi = document.getElementById('previewIsi');
    const previewLab = document.getElementById('previewLab');
    const toast = document.getElementById('toast');
    const loader = document.getElementById('loader');
    const form = document.getElementById('formPengumuman');

    [judul, isi, lab].forEach(input => input.addEventListener('input', updatePreview));

    function updatePreview() {
      previewJudul.textContent = judul.value || "-";
      previewIsi.textContent = isi.value || "-";
      previewLab.textContent = lab.options[lab.selectedIndex]?.text || "-";
    }

    form.addEventListener('submit', (e) => {
      e.preventDefault();
      loader.classList.remove('hidden');

      setTimeout(() => {
        loader.classList.add('hidden');
        showToast("âœ… Pengumuman berhasil disimpan!");
        form.reset();
        updatePreview();
      }, 1200);
    });

    function showToast(msg) {
      toast.textContent = msg;
      toast.classList.remove('hidden');
      toast.classList.remove('opacity-0');
      toast.classList.add('opacity-100');
      setTimeout(() => {
        toast.classList.remove('opacity-100');
        toast.classList.add('opacity-0');
        setTimeout(() => toast.classList.add('hidden'), 300);
      }, 2500);
    }
  </script>
</body>
