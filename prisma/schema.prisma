generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

// Model untuk User
model User {
  id        Int      @id @default(autoincrement())
  fullName  String
  username  String   @unique
  password  String
  role      Role
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // Relasi: User ini milik lab mana? (opsional)
  lab   Lab?   @relation(fields: [labId], references: [id])
  labId String?
}

// Model untuk Laboratorium
model Lab {
  id        String   @id @unique // Cth: "lea", "labgis"
  nama      String
  icon      String
  deskripsi String
  jadwal    String
  dosen     String

  // Relasi: Lab ini memiliki banyak user dan pengumuman
  users         User[]
  announcements Announcement[]
}

// Model untuk Pengumuman
model Announcement {
  id        Int      @id @default(autoincrement())
  judul     String
  isi       String   @db.Text
  createdAt DateTime @default(now())

  // Relasi: Pengumuman ini untuk lab mana?
  lab   Lab    @relation(fields: [labId], references: [id])
  labId String
}

// Enum untuk peran user
enum Role {
  Admin
  Asisten
  Mahasiswa
}